# 카카오 맵 API 설정 가이드

## 1. 카카오 개발자 계정 생성

1. [카카오 개발자 콘솔](https://developers.kakao.com) 접속
2. 카카오 계정으로 로그인
3. 내 애플리케이션 > 애플리케이션 추가하기 클릭

## 2. 애플리케이션 등록

1. **앱 이름**: `Want2Eat` (원하는 이름)
2. **사업자명**: 개인 또는 회사명
3. "저장" 클릭

## 3. 플랫폼 설정

### 웹 플랫폼 추가

1. 내 애플리케이션 > 앱 설정 > 플랫폼 메뉴
2. "Web 플랫폼 등록" 클릭
3. 사이트 도메인 등록:
   - 로컬 개발: `http://localhost:3000`
   - 배포 환경: 실제 배포된 도메인 (예: `https://your-app.vercel.app`)
4. "저장" 클릭

## 4. API 키 확인

1. 내 애플리케이션 > 앱 설정 > 앱 키 메뉴
2. 다음 키들을 복사해두기:
   - **JavaScript 키** (카카오 맵 SDK용)
   - **REST API 키** (카카오 로컬 API용)

## 5. 카카오 로컬 API 활성화

1. 내 애플리케이션 > 제품 설정 > 카카오 로컬 API
2. "활성화 설정" 클릭
3. "활성화" 버튼 클릭

## 6. 환경 변수 설정

프로젝트 루트의 `.env.local` 파일에 추가:

```env
# 카카오 맵 API
NEXT_PUBLIC_KAKAO_MAP_APP_KEY=your_javascript_key_here

# 카카오 로컬 API (서버 사이드)
KAKAO_REST_API_KEY=your_rest_api_key_here
```

**중요**: 
- `NEXT_PUBLIC_KAKAO_MAP_APP_KEY`는 JavaScript 키를 사용합니다 (클라이언트에서 사용)
- `KAKAO_REST_API_KEY`는 REST API 키를 사용합니다 (서버 사이드에서만 사용)

## 7. API 사용량 확인

- 카카오 개발자 콘솔 > 내 애플리케이션 > 통계 메뉴에서 사용량 확인
- 무료 할당량:
  - 카카오 로컬 API: 일일 300,000건
  - 카카오 맵 SDK: 무제한 (일부 기능 제한)

## 문제 해결

### ⚠️ "인증 실패" 또는 "Invalid API Key" 오류

**가장 흔한 원인**: 플랫폼 도메인이 등록되지 않았거나 잘못 등록됨

**해결 방법**:

1. **카카오 개발자 콘솔 확인**:
   - 내 애플리케이션 > 앱 설정 > 플랫폼 메뉴
   - 등록된 사이트 도메인 확인

2. **현재 사용 중인 URL 확인**:
   - 로컬 개발: 브라우저 주소창의 URL 확인 (예: `http://localhost:3000`)
   - 배포 환경: 실제 배포된 도메인 확인

3. **사이트 도메인 추가/수정**:
   - 로컬 개발: `http://localhost:3000` 반드시 추가 (포트 번호가 다르면 변경)
   - 배포 환경: 실제 배포 도메인 추가 (예: `https://your-app.vercel.app`)
   - **주의**:
     - `http://`와 `https://`는 다릅니다
     - 포트 번호도 정확히 일치해야 합니다
     - URL 끝에 `/`가 있으면 제거하세요

4. **환경 변수 확인**:
   - `.env.local` 파일의 키 값이 올바른지 확인
   - JavaScript 키와 REST API 키를 구분하여 사용
   - 개발 서버 재시작 (`npm run dev`)

5. **체크리스트**:
   - [ ] 카카오 개발자 콘솔에서 애플리케이션이 등록되어 있음
   - [ ] 플랫폼 설정에 현재 사용 중인 도메인이 정확히 등록되어 있음
   - [ ] `.env.local` 파일에 올바른 키가 설정되어 있음
   - [ ] 개발 서버를 재시작했음

### CORS 오류

- 플랫폼 설정에서 사이트 도메인에 현재 도메인이 포함되어 있는지 확인
- 로컬 개발: `http://localhost:3000`
- 배포 후: Vercel URL 추가 필요

### API 호출 제한

- 일일 할당량을 초과했는지 확인
- 카카오 개발자 콘솔에서 사용량 확인

## 카카오 맵 API 기능

이 프로젝트에서 사용하는 카카오 맵 API 기능:

1. **카카오 맵 SDK**: 지도 표시, 마커 표시
2. **카카오 로컬 API - 키워드 검색**: 장소 검색
3. **카카오 로컬 API - 장소 상세**: 장소 상세 정보 (메뉴, 운영시간 등)

## 참고 자료

- [카카오 맵 API 문서](https://apis.map.kakao.com/)
- [카카오 로컬 API 문서](https://developers.kakao.com/docs/latest/ko/local/dev-guide)

